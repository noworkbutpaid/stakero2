(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{32903:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t;function n(t,n,i){return e.call(this,"string"==typeof r?r:r(t,n,i))||this}return(t=n).prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e,n}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return"of ".concat(t," ").concat(String(e));var r=e.length;return(e=e.map(function(e){return String(e)}),r>2)?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(d="must not be",t=t.replace(/^not /,"")):d="must be",s=" argument",(void 0===a||a>e.length)&&(a=e.length),e.substring(a-s.length,a)===s)c="The ".concat(e," ").concat(d," ").concat(n(t,"type"));else{var i,o,s,a,l,d,c,u=("number"!=typeof l&&(l=0),l+1>e.length||-1===e.indexOf(".",l))?"argument":"property";c='The "'.concat(e,'" ').concat(u," ").concat(d," ").concat(n(t,"type"))}return c+". Received type ".concat(typeof r)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},32434:function(e,t,r){"use strict";var n=r(34155),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var o=r(45974),s=r(66225);r(35717)(c,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var d=a[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},76298:function(e,t,r){"use strict";e.exports=i;var n=r(87272);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(35717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},45974:function(e,t,r){"use strict";var n,i,o,s,a,l=r(34155);e.exports=O,O.ReadableState=R,r(17187).EventEmitter;var d=function(e,t){return e.listeners(t).length},c=r(31553),u=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(64673);i=f&&f.debuglog?f.debuglog("stream"):function(){};var p=r(85298),g=r(89552),b=r(76589).getHighWaterMark,m=r(32903).q,y=m.ERR_INVALID_ARG_TYPE,w=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(O,c);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function R(e,t,i){n=n||r(32434),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o||(o=r(67547).s),this.decoder=new o(e.encoding),this.encoding=e.encoding)}function O(e){if(n=n||r(32434),!(this instanceof O))return new O(e);var t=this instanceof n;this._readableState=new R(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function T(e,t,r,n,o){i("readableAddChunk",t);var s,a,l,d,c,f=e._readableState;if(null===t)f.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}}(e,f);else{if(o||(s=f,a=t,u.isBuffer(a)||a instanceof h||"string"==typeof a||void 0===a||s.objectMode||(l=new y("chunk",["string","Buffer","Uint8Array"],a)),c=l),c)S(e,c);else if(f.objectMode||t&&t.length>0){if("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===u.prototype||(d=t,t=u.from(d)),n)f.endEmitted?S(e,new v):k(e,f,t,!0);else if(f.ended)S(e,new w);else{if(f.destroyed)return!1;f.reading=!1,f.decoder&&!r?(t=f.decoder.write(t),f.objectMode||0!==t.length?k(e,f,t,!1):I(e,f)):k(e,f,t,!1)}}else n||(f.reading=!1,I(e,f))}return!f.ended&&(f.length<f.highWaterMark||0===f.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),I(e,t)}function P(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function A(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,l.nextTick(C,e))}function C(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function I(e,t){t.readingMore||(t.readingMore=!0,l.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){i("readable nexttick read 0"),e.read(0)}function N(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function q(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,l.nextTick(Z,t,e))}function Z(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=g.destroy,O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),T(this,e,t,!1,r)},O.prototype.unshift=function(e){return T(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){o||(o=r(67547).s);var t=new o(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},O.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return i("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?q(this):A(this),null;if(0===(e=P(e,r))&&r.ended)return 0===r.length&&q(this),null;var o=r.needReadable;return i("need readable",o),(0===r.length||r.length-e<r.highWaterMark)&&i("length less than watermark",o=!0),r.ended||r.reading?i("reading or ended",o=!1):o&&(i("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=P(n,r))),null===(t=e>0?L(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&q(this)),null!==t&&this.emit("data",t),t},O.prototype._read=function(e){S(this,new _("_read()"))},O.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var o=t&&!1===t.end||e===l.stdout||e===l.stderr?g:s;function s(){i("onend"),e.end()}n.endEmitted?l.nextTick(o):r.once("end",o),e.on("unpipe",function t(o,l){i("onunpipe"),o===r&&l&&!1===l.hasUnpiped&&(l.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",u),c=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&a())});var a=function(){var e=r._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&d(r,"data")&&(e.flowing=!0,D(r))};e.on("drain",a);var c=!1;function u(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!c&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){i("onerror",t),g(),e.removeListener("error",h),0===d(e,"error")&&S(e,t)}function f(){e.removeListener("finish",p),g()}function p(){i("onfinish"),e.removeListener("close",f),g()}function g(){i("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",f),e.once("finish",p),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return -1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?A(this):n.reading||l.nextTick(M,this)),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=c.prototype.removeListener.call(this,e,t);return"readable"===e&&l.nextTick(j,this),r},O.prototype.removeAllListeners=function(e){var t=c.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&l.nextTick(j,this),t},O.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,(e=t).resumeScheduled||(e.resumeScheduled=!0,l.nextTick(N,this,e))),t.paused=!1,this},O.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),(!r.objectMode||null!=o)&&(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))}),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===s&&(s=r(46452)),s(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=L,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===a&&(a=r(21717)),a(O,e,t)})},87272:function(e,t,r){"use strict";e.exports=c;var n=r(32903).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(32434);function d(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(t,r){h(e,t,r)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(c,l),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},66225:function(e,t,r){"use strict";var n,i,o=r(34155);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=O,O.WritableState=R;var a={deprecate:r(94927)},l=r(31553),d=r(48764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(89552),h=r(76589).getHighWaterMark,f=r(32903).q,p=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,b=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,_=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,S=u.errorOrDestroy;function E(){}function R(e,t,i){n=n||r(32434),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r,n,i=e._writableState,s=i.sync,a=i.writecb;if("function"!=typeof a)throw new b;if((r=i).writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)n=e,--i.pendingcb,s?(o.nextTick(a,t),o.nextTick(I,n,i),n._writableState.errorEmitted=!0,S(n,t)):(a(t),n._writableState.errorEmitted=!0,S(n,t),I(n,i));else{var l=A(i)||e.destroyed;l||i.corked||i.bufferProcessing||!i.bufferedRequest||P(e,i),s?o.nextTick(k,e,i,l,a):k(e,i,l,a)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function O(e){var t=this instanceof(n=n||r(32434));if(!t&&!i.call(O,this))return new O(e);this._writableState=new R(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function T(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){var i;r||0===(i=t).length&&i.needDrain&&(i.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),I(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var o=0,a=!0;r;)n[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;n.allBuffers=a,T(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,c=r.callback,u=t.objectMode?1:l.length;if(T(e,t,!1,u,l,d,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function I(e,t){var r,n=A(t);if(n&&((r=t).prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.pendingcb++,r.finalCalled=!0,o.nextTick(C,e,r))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}r(35717)(O,l),R.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(R.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===O&&e&&e._writableState instanceof R}})):i=function(e){return e instanceof this},O.prototype.pipe=function(){S(this,new m)},O.prototype.write=function(e,t,r){var n,i,s,a,l,u,h,f=this._writableState,g=!1,b=!f.objectMode&&(n=e,d.isBuffer(n)||n instanceof c);return b&&!d.isBuffer(e)&&(i=e,e=d.from(i)),("function"==typeof t&&(r=t,t=null),b?t="buffer":t||(t=f.defaultEncoding),"function"!=typeof r&&(r=E),f.ending)?(s=r,S(this,a=new _),o.nextTick(s,a)):(b||(l=e,u=r,null===l?h=new w:"string"==typeof l||f.objectMode||(h=new p("chunk",["string","Buffer"],l)),!h||(S(this,h),o.nextTick(u,h),0)))&&(f.pendingcb++,g=function(e,t,r,n,i,o){if(!r){var s,a,l=(s=n,a=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof s||(s=d.from(s,a)),s);n!==l&&(r=!0,i="buffer",n=l)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,c,n,i,o);return u}(this,f,b,e,t,r)),g},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var n,i,s,a=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||(n=this,i=a,s=r,i.ending=!0,I(n,i),s&&(i.finished?o.nextTick(s):n.once("finish",s)),i.ended=!0,n.writable=!1),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(e,t){t(e)}},46452:function(e,t,r){"use strict";var n,i=r(34155);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(8398),a=Symbol("lastResolve"),l=Symbol("lastReject"),d=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[u]=null,e[a]=null,e[l]=null,t(p(r,!1)))}}function b(e){i.nextTick(g,e)}var m=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((o(n={get stream(){return this[f]},next:function(){var e,t,r=this,n=this[d];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise(function(e,t){i.nextTick(function(){r[d]?t(r[d]):e(p(void 0,!0))})});var o=this[u];if(o)t=new Promise((e=this,function(t,r){o.then(function(){if(e[c]){t(p(void 0,!0));return}e[h](t,r)},r)}));else{var s=this[f].read();if(null!==s)return Promise.resolve(p(s,!1));t=new Promise(this[h])}return this[u]=t,t}},Symbol.asyncIterator,function(){return this}),o(n,"return",function(){var e=this;return new Promise(function(t,r){e[f].destroy(null,function(e){if(e){r(e);return}t(p(void 0,!0))})})}),n),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,d,{value:null,writable:!0}),o(t,c,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[f].read();n?(r[u]=null,r[a]=null,r[l]=null,e(p(n,!1))):(r[a]=e,r[l]=t)},writable:!0}),t));return r[u]=null,s(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[u]=null,r[a]=null,r[l]=null,t(e)),r[d]=e;return}var n=r[a];null!==n&&(r[u]=null,r[a]=null,r[l]=null,n(p(void 0,!0))),r[c]=!0}),e.on("readable",b.bind(null,r)),r}},85298:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=s(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var a=r(48764).Buffer,l=r(4361).inspect,d=l&&l.custom||"inspect";e.exports=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,a.prototype.copy.call(t,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:d,value:function(e,t){return l(this,i(i({},t),{},{depth:0,customInspect:!1}))}}],o(r.prototype,e),t&&o(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},89552:function(e,t,r){"use strict";var n=r(34155);function i(e,t){s(e,t),o(e)}function o(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8398:function(e,t,r){"use strict";var n=r(32903).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),s=o||i,a=!1,o=function(){if(!a){a=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.apply(this,t)}};var s,a,l=r.readable||!1!==r.readable&&t.readable,d=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){d=!1,u=!0,l||o.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){l=!1,f=!0,d||o.call(t)},g=function(e){o.call(t,e)},b=function(){var e;return l&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):d&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",h)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",h),t.on("abort",b),t.req?m():t.on("request",m)):d&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",p),t.on("finish",h),!1!==r.error&&t.on("error",g),t.on("close",b),function(){t.removeListener("complete",h),t.removeListener("abort",b),t.removeListener("request",m),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",p),t.removeListener("error",g),t.removeListener("close",b)}}},21717:function(e){e.exports=function(){throw Error("Readable.from is not available in the browser")}},63208:function(e,t,r){"use strict";var n,i=r(32903).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e){e()}function d(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];var h=(e=c).length&&"function"==typeof e[e.length-1]?e.pop():a;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new o("streams");var f=c.map(function(e,i){var o,a,d,u,p,g=i<c.length-1;return a=o=function(e){t||(t=e),e&&f.forEach(l),g||(f.forEach(l),h(t))},d=!1,o=function(){d||(d=!0,a.apply(void 0,arguments))},u=!1,e.on("close",function(){u=!0}),void 0===n&&(n=r(8398)),n(e,{readable:g,writable:i>0},function(e){if(e)return o(e);u=!0,o()}),p=!1,function(t){if(!u&&!p){if(p=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new s("pipe"))}}});return c.reduce(d)}},76589:function(e,t,r){"use strict";var n=r(32903).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},31553:function(e,t,r){e.exports=r(17187).EventEmitter},3623:function(e,t,r){(t=e.exports=r(45974)).Stream=t,t.Readable=t,t.Writable=r(66225),t.Duplex=r(32434),t.Transform=r(87272),t.PassThrough=r(76298),t.finished=r(8398),t.pipeline=r(63208)},67547:function(e,t,r){"use strict";var n=r(89509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=d,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=u,t=3;break;default:this.write=h,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1482:function(e,t,r){"use strict";r.d(t,{v:function(){return b}});var n=r(15861),i=r(15671),o=r(43144),s=r(97326),a=r(60136),l=r(82963),d=r(61120),c=r(4942),u=r(64687),h=r.n(u),f=r(45624),p=r(37202),g=r.n(p),b=function(e){(0,a.Z)(b,e);var t,r,u,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(b);if(t){var n=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function b(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.Z)(this,b),e=p.call(this),(0,c.Z)((0,s.Z)(e),"clientId",void 0),e.clientId=t.clientId,e}return(0,o.Z)(b,[{key:"authenticateUser",value:(r=(0,n.Z)(h().mark(function e(){var t,r,n,i,o,s,a,l,d,c,u;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!this.provider||!(null!==(t=this.chainConfig)&&void 0!==t&&t.chainId))){e.next=2;break}throw f.RM.notConnectedError();case 2:if(n=(r=this.chainConfig).chainNamespace,i=r.chainId,!(this.status!==f.MP.CONNECTED)){e.next=5;break}throw f.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 5:return e.next=7,this.provider.request({method:"getAccounts"});case 7:if(!((o=e.sent)&&o.length>0)){e.next=27;break}if(!(s=(0,f.Cb)(o[0],this.name))||(0,f.$E)(s)){e.next=14;break}return e.abrupt("return",{idToken:s});case 14:return a={domain:window.location.origin,uri:window.location.href,address:o[0],chainId:parseInt(i,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},e.next=17,(0,f.tV)(a,n);case 17:return l=e.sent,d=new TextEncoder().encode(l),e.next=21,this.provider.request({method:"signMessage",params:{message:d,display:"utf8"}});case 21:return c=e.sent,e.next=24,(0,f.rn)(n,g().encode(c),l,this.name,this.sessionTime,this.clientId);case 24:return u=e.sent,(0,f.Fr)(o[0],this.name,u),e.abrupt("return",{idToken:u});case 27:throw f.RM.notConnectedError("Not connected with wallet, Please login/connect first");case 28:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"disconnect",value:(u=(0,n.Z)(h().mark(function e(){var t;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.status!==f.MP.CONNECTED)){e.next=2;break}throw f.RM.disconnectionError("Not connected with wallet");case 2:return e.next=4,this.provider.request({method:"getAccounts"});case 4:(t=e.sent)&&t.length>0&&(0,f.qz)(t[0],this.name);case 6:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})}]),b}(f.J5)},55777:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function c(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*l+1>>>0,d=new Uint8Array(o);e[r];){var c=t[e.charCodeAt(r)];if(255===c)return;for(var u=0,h=o-1;(0!==c||u<i)&&-1!==h;h--,u++)c+=s*d[h]>>>0,d[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=u,r++}for(var f=o-i;f!==o&&0===d[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=d[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var l=(o-i)*d+1>>>0,c=new Uint8Array(l);i!==o;){for(var u=t[i],h=0,f=l-1;(0!==u||h<n)&&-1!==f;f--,h++)u+=256*c[f]>>>0,c[f]=u%s>>>0,u=u/s>>>0;if(0!==u)throw Error("Non-zero carry");n=h,i++}for(var p=l-n;p!==l&&0===c[p];)p++;for(var g=a.repeat(r);p<l;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw Error("Non-base"+s+" character")}}}},37202:function(e,t,r){let n=r(55777);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},60931:function(e,t,r){"use strict";r.r(t),r.d(t,{SolanaWalletAdapter:function(){return eN}});var n=r(15861),i=r(15671),o=r(43144),s=r(97326),a=r(73237),l=r(60136),d=r(82963),c=r(61120),u=r(4942),h=r(64687),f=r.n(h),p=r(59917),g=r(41653),b=r(20917),m=r(3623),y=r(92282),w=r.n(y);r(45772),r(95811),r(48764).Buffer;let _=()=>w()(32).toString("hex");var v=r(17187),S=r(4445),E=r.n(S),R=r(79826),O=r(12840),T=r.n(O),k=r(30778),P=r.n(k),A=r(74286),C=r.n(A);function I(){}class x extends m.Duplex{constructor(e){let{name:t,target:r,targetWindow:n=window,targetOrigin:i="*"}=e;if(super({objectMode:!0}),(0,u.Z)(this,"_init",void 0),(0,u.Z)(this,"_haveSyn",void 0),(0,u.Z)(this,"_name",void 0),(0,u.Z)(this,"_target",void 0),(0,u.Z)(this,"_targetWindow",void 0),(0,u.Z)(this,"_targetOrigin",void 0),(0,u.Z)(this,"_onMessage",void 0),(0,u.Z)(this,"_synIntervalId",void 0),!t||!r)throw Error("Invalid input.");this._init=!1,this._haveSyn=!1,this._name=t,this._target=r,this._targetWindow=n,this._targetOrigin=i,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener("message",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write("BRK",null,I),this._haveSyn=!1,this._init=!1}_handShake(){this._write("SYN",null,I),this.cork()}_onData(e){if(this._init){if("BRK"===e)this._break();else try{this.push(e)}catch(e){this.emit("error",e)}}else"SYN"===e?(this._haveSyn=!0,this._write("ACK",null,I)):"ACK"===e&&(this._init=!0,this._haveSyn||this._write("ACK",null,I),this.uncork())}_postMessage(e){let t=this._targetOrigin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){let t=e.data;("*"===this._targetOrigin||e.origin===this._targetOrigin)&&e.source===this._targetWindow&&"object"==typeof t&&t.target===this._name&&t.data&&this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}_destroy(){window.removeEventListener("message",this._onMessage,!1)}}function j(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class M extends v.EventEmitter{emit(e){let t="error"===e,r=this._events;if(void 0!==r)t=t&&void 0===r.error;else if(!t)return!1;for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(t){let e;if(i.length>0&&([e]=i),e instanceof Error)throw e;let t=Error(`Unhandled error.${e?` (${e.message})`:""}`);throw t.context=e,t}let s=r[e];if(void 0===s)return!1;if("function"==typeof s)j(s,this,i);else{let e=s.length,t=function(e){let t=e.length,r=Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(s);for(let r=0;r<e;r+=1)j(t[r],this,i)}return!0}}class N extends Error{constructor(e){let{code:t,message:r,data:n}=e;if(!Number.isInteger(t))throw Error("code must be an integer");if(!r||"string"!=typeof r)throw Error("message must be string");super(r),(0,u.Z)(this,"code",void 0),(0,u.Z)(this,"data",void 0),this.code=t,void 0!==n&&(this.data=n)}toString(){return E()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}let D=function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return(n,i)=>{n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class q extends M{constructor(){super(),(0,u.Z)(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,t,r){let n=[],i=null,o=!1;for(let s of r)if([i,o]=await q._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(i=>{let o=e=>{let r=e||t.error;r&&(t.error=(0,R.serializeError)(r)),i([r,!0])},s=e=>{t.error?o(t.error):(e&&("function"!=typeof e&&o(new N({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),n.push(e)),i([null,!1]))};try{r(e,t,s,o)}catch(e){o(e)}})}static async _runReturnHandlers(e){for(let t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new N({code:-32603,message:"Response has no error or result for request"});if(!r)throw new N({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{let[i,o,s]=await q._runAllMiddleware(e,t,this._middleware);if(o)return await q._runReturnHandlers(s),n(i);return r(async e=>{try{await q._runReturnHandlers(s)}catch(t){return e(t)}return e()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{let r=await Promise.all(e.map(this._promiseHandle.bind(this)));if(t)return t(null,r);return r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){let e=new N({code:-32603,message:"request must be plain object"});return t(e,{id:void 0,jsonrpc:"2.0",error:e})}if("string"!=typeof e.method){let r=new N({code:-32603,message:"method must be string"});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}let r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n={id:r.id,jsonrpc:r.jsonrpc},i=null;try{await this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=(0,R.serializeError)(i))),t(i,n)}async _processRequest(e,t){let[r,n,i]=await q._runAllMiddleware(e,t,this._middleware);if(q._checkForCompletion(e,t,n),await q._runReturnHandlers(i),r)throw r}}class Z extends m.Duplex{constructor(e){let{parent:t,name:r}=e;super({objectMode:!0}),(0,u.Z)(this,"_parent",void 0),(0,u.Z)(this,"_name",void 0),this._parent=t,this._name=r}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let B=Symbol("IGNORE_SUBSTREAM");class H extends m.Duplex{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(W(W({},e),{},{objectMode:!0})),(0,u.Z)(this,"_substreams",void 0),(0,u.Z)(this,"getStream",void 0),this._substreams={}}createStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);let t=new Z({parent:this,name:e});return this._substreams[e]=t,function(e,t){let r=P()(t);T()(e,{readable:!1},r),T()(e,{writable:!1},r)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw Error(`ObjectMultiplex - Substream for name "${e}" already exists`);this._substreams[e]=B}_read(){}_write(e,t,r){let{name:n,data:i}=e;if(!n)return window.console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),r();let o=this._substreams[n];return o?(o!==B&&o.push(i),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream "${n}"`),r())}}var F=r(24970),z=r(2043),K=r.n(z),$=r(64063),G=r.n($),V=r(48764).Buffer,Y={errors:{disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:e=>`Torus: The Torus Ethereum provider does not support synchronous methods like ${e} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:e=>`Invalid options. Received: { maxEventListeners: ${e}}`,invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e=>`'args.logger' must include required method '${e}'.`},info:{connected:e=>`Torus: Connected to chain with ID "${e}".`},warnings:{}};let J={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},Q={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"},X={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",EMAIL_PASSWORDLESS:"email_passwordless"};var ee={supportedVerifierList:[X.GOOGLE,X.REDDIT,X.DISCORD],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"継続する",actionRequired:"認証が必要です",pendingAction:"続行をクリックして、ポップアップでリクエストを続行します",cookiesRequired:"必要なクッキー",enableCookies:"Torusにアクセスするには、ブラウザの設定でCookieを有効にしてください。",clickHere:"詳しくは"}},ko:{embed:{continue:"계속하다",actionRequired:"승인 필요",pendingAction:"팝업에서 요청을 진행하려면 계속을 클릭하십시오.",cookiesRequired:"쿠키 필요",enableCookies:"브라우저 환경 설정에서 쿠키를 활성화하여 Torus에 액세스하십시오.",clickHere:"더 많은 정보"}},zh:{embed:{continue:"继续",actionRequired:"需要授权",pendingAction:"单击继续以在弹出窗口中继续您的请求",cookiesRequired:"必填Cookie",enableCookies:"请在您的浏览器首选项中启用cookie以访问Torus。",clickHere:"更多信息"}}},prodTorusUrl:"",localStorageKeyPrefix:"torus-"},et=K().getLogger("solana-embed");let er=()=>Math.random().toString(36).slice(2),en=async e=>{let t,r;switch(e){case"testing":t="https://solana-testing.tor.us",r="debug";break;case"development":t="http://localhost:8080",r="debug";break;default:t="https://solana.tor.us",r="error"}return{torusUrl:t,logLevel:r}},ei=()=>{let e=window.navigator.language||"en-US",t=e.split("-");return Object.prototype.hasOwnProperty.call(ee.translations,t[0])?t[0]:"en"},eo={height:660,width:375},es={height:740,width:1315},ea={height:700,width:1200},el={height:600,width:400};function ed(e){let{width:t,height:r}=e,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,a=`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${r/1},width=${t/1},top=${Math.abs((s-r)/2/1+i)},left=${Math.abs((o-t)/2/1+n)}`;return a}class ec extends M{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;if(super(),(0,u.Z)(this,"isTorus",void 0),(0,u.Z)(this,"_rpcEngine",void 0),(0,u.Z)(this,"jsonRpcConnectionEvents",void 0),(0,u.Z)(this,"_state",void 0),!(0,F.duplex)(e))throw Error(Y.errors.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(r),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);let i=new H;C()(e,i,e,this._handleStreamDisconnect.bind(this,"Torus")),i.ignoreStream("phishing");let o=function(){let e={},t=new M,r=new m.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,i){let o;try{let n=!r.id;n?t.emit("notification",r):!function(t){let r=e[t.id];if(!r)throw Error(`StreamMiddleware - Unknown response id "${t.id}"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r)}catch(e){o=e}i(o)}}),n=(t,n,i,o)=>{r.push(t),e[t.id]={req:t,res:n,next:i,end:o}};return{events:t,middleware:n,stream:r}}();C()(o.stream,i.createStream(n),o.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));let s=new q;s.push((e,t,r,n)=>{let i=e.id,o=_();e.id=o,t.id=o,r(r=>{e.id=i,t.id=i,r()})}),s.push((e,t,r)=>{"string"==typeof e.method&&e.method||(t.error=R.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r(e=>{let{error:r}=t;return r&&et.error(`Torus - RPC Error: ${r.message}`,r),e()})}),s.push((0,g.yh)({origin:location.origin})),s.push(o.middleware),this._rpcEngine=s,this.jsonRpcConnectionEvents=o.events}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw R.ethErrors.rpc.invalidRequest({message:Y.errors.invalidRequestArgs(),data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw R.ethErrors.rpc.invalidRequest({message:Y.errors.invalidRequestMethod(),data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw R.ethErrors.rpc.invalidRequest({message:Y.errors.invalidRequestParams(),data:e});return new Promise((e,n)=>{this._rpcRequest({method:t,params:r},D(e,n))})}send(e,t){this._rpcRequest(e,t)}sendAsync(e){return new Promise((t,r)=>{this._rpcRequest(e,D(t,r))})}_handleStreamDisconnect(e,t){let r;r=`Torus: Lost connection to "${e}".`,t?.stack&&(r+=`
${t.stack}`),et.warn(r),this&&this.listenerCount("error")>0&&this.emit("error",r),this._handleDisconnect(!1,t?t.message:void 0)}}let eu=function(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];let s=()=>{r(...i),e.removeEventListener(t,s)};e.addEventListener(t,s)};async function eh(){return new Promise(e=>{"loading"!==document.readyState?e():eu(document,"DOMContentLoaded",e)})}let ef=e=>{let t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild};function ep(e){return void 0===e.version}class eg extends M{constructor(e){let{url:t,target:r,features:n}=e;super(),(0,u.Z)(this,"url",void 0),(0,u.Z)(this,"target",void 0),(0,u.Z)(this,"features",void 0),(0,u.Z)(this,"window",void 0),(0,u.Z)(this,"windowTimer",void 0),(0,u.Z)(this,"iClosedWindow",void 0),this.url=t,this.target=r||"_blank",this.features=n||ed(ea),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)},500))}open(){return this.window=window.open(this.url.href,this.target,this.features),this.window?.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}class em extends ec{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),(0,u.Z)(this,"embedTranslations",void 0),(0,u.Z)(this,"torusUrl",void 0),(0,u.Z)(this,"dappStorageKey",void 0),(0,u.Z)(this,"windowRefs",void 0),(0,u.Z)(this,"tryWindowHandle",void 0),(0,u.Z)(this,"torusAlertContainer",void 0),(0,u.Z)(this,"torusIframe",void 0),this._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},em._defaultState),this.torusUrl="",this.dappStorageKey="";let i=ee.translations[ei()];this.embedTranslations=i.embed,this.windowRefs={},this.on("connect",()=>{this._state.isConnected=!0});let o=e=>{let{method:t,params:r}=e;if(t===g.Nb.IFRAME_STATUS){let{isFullScreen:e,rid:t}=r;this._displayIframe({isFull:e,rid:t})}else if(t===g.Nb.CREATE_WINDOW){let{windowId:e,url:t}=r;this._createPopupBlockAlert(e,t)}else if(t===g.Nb.CLOSE_WINDOW)this._handleCloseWindow(r);else if(t===g.Nb.USER_LOGGED_IN){let{currentLoginProvider:e}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=e}else t===g.Nb.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())};this.jsonRpcConnectionEvents.on("notification",o)}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(e){try{let{torusUrl:t,dappStorageKey:r,torusAlertContainer:n,torusIframe:i}=e;this.torusUrl=t,this.dappStorageKey=r,this.torusAlertContainer=n,this.torusIframe=i,this.torusIframe.addEventListener("load",()=>{this._state.isIFrameFullScreen||this._displayIframe()});let{currentLoginProvider:o,isLoggedIn:s}=await this.request({method:g.vU.GET_PROVIDER_STATE,params:[]});this._handleConnect(o,s)}catch(e){et.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{et.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(e){let{url:t,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new URL(t||`${this.torusUrl}/redirect?windowId=${e}`);this.dappStorageKey&&(i.hash?i.hash+=`&dappStorageKey=${this.dappStorageKey}`:i.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new eg({url:i,target:r,features:n});if(o.open(),!o.window){this._createPopupBlockAlert(e,i.href);return}this.windowRefs[e]=o,this.request({method:g.vU.OPENED_WINDOW,params:{windowId:e}}),o.once("close",()=>{delete this.windowRefs[e],this.request({method:g.vU.CLOSED_WINDOW,params:{windowId:e}})})}_displayIframe(){let{isFull:e=!1,rid:t=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if(e)r.display="block",r.width="100%",r.height="100%",r.top="0px",r.right="0px",r.left="0px",r.bottom="0px";else switch(r.display=this._state.torusWidgetVisibility?"block":"none",r.height="70px",r.width="70px",this._state.buttonPosition){case Q.TOP_LEFT:r.top="0px",r.left="0px",r.right="auto",r.bottom="auto";break;case Q.TOP_RIGHT:r.top="0px",r.right="0px",r.left="auto",r.bottom="auto";break;case Q.BOTTOM_RIGHT:r.bottom="0px",r.right="0px",r.top="auto",r.left="auto";break;case Q.BOTTOM_LEFT:default:r.bottom="0px",r.left="0px",r.top="auto",r.right="auto"}Object.assign(this.torusIframe.style,r),this._state.isIFrameFullScreen=e,this.request({method:g.vU.IFRAME_STATUS,params:{isIFrameFullScreen:e,rid:t}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(e,t){let r=e;Array.isArray(r)||r.jsonrpc||(r.jsonrpc="2.0"),this.tryWindowHandle(r,t)}_handleConnect(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),et.debug(Y.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new R.EthereumRpcError(1013,t||Y.errors.disconnected()),et.debug(r)):(r=new R.EthereumRpcError(1011,t||Y.errors.permanentlyDisconnected()),et.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(e){let{windowId:t}=e;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}async _createPopupBlockAlert(e,t){let r=this.getLogoUrl(),n=ef(`<div id="torusAlert" class="torus-alert--v2"><div id="torusAlert__logo"><img src="${r}" /></div><div><h1 id="torusAlert__title">${this.embedTranslations.actionRequired}</h1><p id="torusAlert__desc">${this.embedTranslations.pendingAction}</p></div></div>`),i=ef(`<div><a id="torusAlert__btn">${this.embedTranslations.continue}</a></div>`),o=ef('<div id="torusAlert__btn-container"></div>');o.appendChild(i),n.appendChild(o),await eh(),(()=>{this.torusAlertContainer.appendChild(n)})(),(()=>{i.addEventListener("click",()=>{this._handleWindow(e,{url:t,target:"_blank",features:ed(el)}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")})})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){let e=`${this.torusUrl}/images/torus_icon-blue.svg`;return e}}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(0,u.Z)(em,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class ew extends ec{constructor(e,t){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=t;super(e,{maxEventListeners:r,jsonRpcStreamName:n}),(0,u.Z)(this,"chainId",void 0),(0,u.Z)(this,"selectedAddress",void 0),(0,u.Z)(this,"tryWindowHandle",void 0),this._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},ew._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",()=>{this._state.isConnected=!0});let i=e=>{let{method:t,params:r}=e;t===g.zK.ACCOUNTS_CHANGED?this._handleAccountsChanged(r):t===g.zK.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):t===g.zK.CHAIN_CHANGED&&this._handleChainChanged(r)};this.jsonRpcConnectionEvents.on("notification",i)}isConnected(){return this._state.isConnected}async _initializeState(){try{let{accounts:e,chainId:t,isUnlocked:r}=await this.request({method:g.GA.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:t}),this._handleChainChanged({chainId:t}),this._handleUnlockStateChanged({accounts:e,isUnlocked:r}),this._handleAccountsChanged(e)}catch(e){et.error("Torus: Failed to get initial state. Please report this bug.",e)}finally{et.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t,i=e;if(!Array.isArray(i)){if(i.jsonrpc||(i.jsonrpc="2.0"),"solana_accounts"===i.method||"solana_requestAccounts"===i.method)n=(e,n)=>{this._handleAccountsChanged(n.result||[],"solana_accounts"===i.method,r),t(e,n)};else if("wallet_getProviderState"===i.method){this._rpcEngine.handle(e,n);return}}this.tryWindowHandle(i,n)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),et.debug(Y.info.connected(e)))}_handleDisconnect(e,t){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new R.EthereumRpcError(1013,t||Y.errors.disconnected()),et.debug(r)):(r=new R.EthereumRpcError(1011,t||Y.errors.permanentlyDisconnected()),et.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;for(let t of(Array.isArray(n)||(et.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]),e))if("string"!=typeof t){et.error("Torus: Received non-string account. Please report this bug.",e),n=[];break}G()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&et.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e){et.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:e});return}"loading"===e?this._handleDisconnect(!0):(this._handleConnect(e),e!==this.chainId&&(this.chainId=e,this._state.initialized&&this.emit("chainChanged",this.chainId)))}_handleUnlockStateChanged(){let{accounts:e,isUnlocked:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("boolean"!=typeof t){et.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:t});return}t!==this._state.isUnlocked&&(this._state.isUnlocked=t,this._handleAccountsChanged(e||[]))}}function e_(e){return new Promise((t,r)=>{try{let r=document.createElement("img");r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}catch(e){r(e)}})}(0,u.Z)(ew,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});let ev=e=>{let{document:t}=e,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;let n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};async function eS(e){try{let{document:t}=e,r=t.querySelector('head > link[rel="shortcut icon"]');if(r&&await e_(r.href)||(r=Array.from(t.querySelectorAll('head > link[rel="icon"]')).find(e=>Boolean(e.href)))&&await e_(r.href))return r.href;return""}catch(e){return""}}let eE=async()=>({name:ev(window),icon:await eS(window)});function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eT=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],ek=[g.vU.SET_PROVIDER],eP=function(e){let t;try{t=window[e];let r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;let e=document.createElement("link"),{torusUrl:t}=await en("production");e.href=`${t}/frame`,e.crossOrigin="anonymous",e.type="text/html",e.rel="prefetch",e.relList&&e.relList.supports&&e.relList.supports("prefetch")&&document.head.appendChild(e)}catch(e){et.warn(e)}}();class eA{constructor(){let{modalZIndex:e=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)(this,"isInitialized",void 0),(0,u.Z)(this,"torusAlert",void 0),(0,u.Z)(this,"modalZIndex",void 0),(0,u.Z)(this,"alertZIndex",void 0),(0,u.Z)(this,"requestedLoginProvider",void 0),(0,u.Z)(this,"provider",void 0),(0,u.Z)(this,"communicationProvider",void 0),(0,u.Z)(this,"dappStorageKey",void 0),(0,u.Z)(this,"isTopupHidden",!1),(0,u.Z)(this,"torusAlertContainer",void 0),(0,u.Z)(this,"torusUrl",void 0),(0,u.Z)(this,"torusIframe",void 0),(0,u.Z)(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=e,this.alertZIndex=e+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:e=J.PRODUCTION,enableLogging:t=!1,network:r,showTorusButton:n=!1,useLocalStorage:i=!1,buttonPosition:o=Q.BOTTOM_LEFT,apiKey:s="torus-default",extraParams:a={},whiteLabel:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw Error("Already initialized");(0,b.ut)(s);let{torusUrl:d,logLevel:c}=await en(e);et.enableAll(),et.info(d,"url loaded"),et.info("Solana Embed Version :0.3.4"),this.torusUrl=d,et.setDefaultLevel(c),t?et.enableAll():et.disableAll();let u=this.handleDappStorageKey(i),h=new URL(d);h.pathname.endsWith("/")?h.pathname+="frame":h.pathname+="/frame";let f=new URLSearchParams;u&&f.append("dappStorageKey",u),f.append("origin",window.location.origin),h.hash=f.toString(),this.torusIframe=ef(`<iframe
        id="torusIframe"
        class="torusIframe"
        src="${h.href}"
        style="display: none; position: fixed; top: 0; right: 0; width: 100%;
        height: 100%; border: none; border-radius: 0; z-index: ${this.modalZIndex.toString()}"
      ></iframe>`),this.torusAlertContainer=ef(`<div id="torusAlertContainer" style="display:none; z-index: ${this.alertZIndex.toString()}"></div>`),this.styleLink=ef(`<link href="${d}/css/widget.css" rel="stylesheet" type="text/css">`);let p=async()=>new Promise((e,t)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",async()=>{let t=await eE();this.torusIframe.contentWindow.postMessage({buttonPosition:o,apiKey:s,network:r,dappMetadata:t,extraParams:a,whiteLabel:l},h.origin),await this._setupWeb3({torusUrl:d}),n&&this.showTorusButton(),l?.topupHide?this.isTopupHidden=l.topupHide:this.hideTorusButton(),this.isInitialized=!0,window.torus=this,e()})}catch(e){t(e)}});await eh(),await p()}async login(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw Error("Call init() first");try{this.requestedLoginProvider=e.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});let t=await new Promise((t,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,e.login_hint]},D(t,r))});if(Array.isArray(t)&&t.length>0)return t;throw Error("Login failed")}catch(e){throw et.error("login failed",e),e}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(e){if(!this.isInitialized)throw Error("Call init() first");let{privateKey:t,userInfo:r}=e,{success:n}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:t,userInfo:r}});if(!n)throw Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw Error("Not logged in");await this.communicationProvider.request({method:g.vU.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(e){await this.communicationProvider.request({method:g.vU.SET_PROVIDER,params:eO({},e)})}async showWallet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await this.communicationProvider.request({method:g.vU.WALLET_INSTANCE_ID,params:[]}),n=e?`/${e}`:"",i=new URL(`${this.torusUrl}/wallet${n}`);i.searchParams.append("instanceId",r),Object.keys(t).forEach(e=>{i.searchParams.append(e,t[e])}),this.dappStorageKey&&(i.hash=`#dappStorageKey=${this.dappStorageKey}`);let o=new eg({url:i,features:ed(es)});o.open()}async getUserInfo(){let e=await this.communicationProvider.request({method:g.vU.USER_INFO,params:[]});return e}async initiateTopup(e,t){if(!this.isInitialized)throw Error("Torus is not initialized");let r=er();this.communicationProvider._handleWindow(r);let n=await this.communicationProvider.request({method:g.vU.TOPUP,params:{provider:e,params:t,windowId:r}});return n}async getAccounts(){let e=await this.provider.request({method:"getAccounts",params:[]});return e}async sendTransaction(e){let t=ep(e),r=t?e.serialize({requireAllSignatures:!1}).toString("hex"):V.from(e.serialize()).toString("hex"),n=await this.provider.request({method:"send_transaction",params:{message:r,isLegacyTransaction:t}});return n}async signAndSendTransaction(e,t){let r=ep(e),n=r?e.serialize({requireAllSignatures:!1}).toString("hex"):V.from(e.serialize()).toString("hex"),i=await this.provider.request({method:"send_transaction",params:{message:n,options:t,isLegacyTransaction:r}});return{signature:i}}async signTransaction(e){let t=ep(e),r=t?e.serializeMessage().toString("hex"):V.from(e.message.serialize()).toString("hex"),n=await this.provider.request({method:"sign_transaction",params:{message:r,messageOnly:!0,isLegacyTransaction:t}}),i=JSON.parse(n),o={publicKey:new p.nh(i.publicKey),signature:V.from(i.signature,"hex")};return e.addSignature(o.publicKey,o.signature),e}async signAllTransactions(e){let t;let r=e.map(e=>(t=ep(e))?e.serializeMessage().toString("hex"):V.from(e.message.serialize()).toString("hex")),n=await this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0,isLegacyTransaction:t}}),i=n.map(e=>{let t=JSON.parse(e);return{publicKey:new p.nh(t.publicKey),signature:V.from(t.signature,"hex")}});return e.forEach((e,t)=>(e.addSignature(i[t].publicKey,i[t].signature),e)),e}async signMessage(e){let t=await this.provider.request({method:"sign_message",params:{data:e}});return t}async getGaslessPublicKey(){let e=await this.provider.request({method:"get_gasless_public_key",params:[]});return e}handleDappStorageKey(e){let t=`${ee.localStorageKeyPrefix}${window.location.hostname}`,r="";if(eP&&e){let e=window.localStorage.getItem(t);if(e)r=e;else{let e=`torus-app-${er()}`;window.localStorage.setItem(t,e),r=e}}return this.dappStorageKey=r,r}async _setupWeb3(e){et.info("setupWeb3 running");let t=new x({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new x({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),n=new ew(t,{}),i=new em(r,{});n.tryWindowHandle=(e,t)=>{let r=e;if(!Array.isArray(r)&&eT.includes(r.method)){if(!this.communicationProvider.isLoggedIn)throw Error("User Not Logged In");let e=er();i._handleWindow(e,{target:"_blank",features:ed(el)}),r.windowId=e}n._rpcEngine.handle(r,t)},i.tryWindowHandle=(e,t)=>{let r=e;if(!Array.isArray(r)&&ek.includes(r.method)){let e=er();i._handleWindow(e,{target:"_blank",features:ed(eo)}),r.params.windowId=e}i._rpcEngine.handle(r,t)};let o=e=>{let t=n[e],r=this;n[e]=function(e,n){let{method:i,params:o=[]}=e;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:o[0]});r.login({loginProvider:o[0]}).then(e=>n(null,e)).catch(e=>n(e))}return t.apply(this,[e,n])}};o("request"),o("sendAsync"),o("send");let s=new Proxy(n,{deleteProperty:()=>!0}),a=new Proxy(i,{deleteProperty:()=>!0});this.provider=s,this.communicationProvider=a,await Promise.all([n._initializeState(),i._initializeState(eO(eO({},e),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),et.debug("Torus - injected provider")}}var eC=r(45624),eI=r(1482),ex=r(44445);function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){(0,u.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eN=function(e){(0,l.Z)(m,e);var t,r,h,p,g,b=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(m);if(t){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function m(e){var t;return(0,i.Z)(this,m),t=b.call(this,e),(0,u.Z)((0,s.Z)(t),"name",eC.rW.TORUS_SOLANA),(0,u.Z)((0,s.Z)(t),"adapterNamespace",eC.yk.SOLANA),(0,u.Z)((0,s.Z)(t),"currentChainNamespace",eC.EN.SOLANA),(0,u.Z)((0,s.Z)(t),"type",eC.hN.EXTERNAL),(0,u.Z)((0,s.Z)(t),"status",eC.MP.NOT_READY),(0,u.Z)((0,s.Z)(t),"torusInstance",null),(0,u.Z)((0,s.Z)(t),"torusWalletOptions",void 0),(0,u.Z)((0,s.Z)(t),"initParams",void 0),(0,u.Z)((0,s.Z)(t),"loginSettings",{}),(0,u.Z)((0,s.Z)(t),"solanaProvider",null),(0,u.Z)((0,s.Z)(t),"rehydrated",!1),t.torusWalletOptions=e.adapterSettings||{},t.initParams=e.initParams||{},t.loginSettings=e.loginSettings||{},t.chainConfig=e.chainConfig||null,t.sessionTime=e.sessionTime||86400,t}return(0,o.Z)(m,[{key:"provider",get:function(){if(this.status===eC.MP.CONNECTED&&this.solanaProvider){var e;return(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null}return null},set:function(e){throw Error("Not implemented")}},{key:"init",value:(r=(0,n.Z)(f().mark(function e(t){var r,n,i,o,s,l,d,u,h,p,g,b,y;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.Z)((0,c.Z)(m.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig?(h=(u=this.chainConfig).chainId,p=u.blockExplorer,g=u.displayName,b=u.rpcTarget,y=u.ticker,r={chainId:h,rpcTarget:b,blockExplorerUrl:p,displayName:g,tickerName:u.tickerName,ticker:y,logo:""}):(this.chainConfig=(0,eC.h2)(eC.EN.SOLANA,"0x1"),i=(n=this.chainConfig).blockExplorer,o=n.displayName,s=n.ticker,l=n.tickerName,d=n.rpcTarget,r={chainId:n.chainId,rpcTarget:d,blockExplorerUrl:i,displayName:o,ticker:s,tickerName:l,logo:""}),this.torusInstance=new eA(this.torusWalletOptions),eC.cM.debug("initializing torus solana adapter init"),e.next=6,this.torusInstance.init(eM(eM({showTorusButton:!1},this.initParams),{},{network:r}));case 6:if(this.solanaProvider=new ex.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=eC.MP.READY,this.emit(eC.n2.READY,eC.rW.TORUS_SOLANA),e.prev=9,eC.cM.debug("initializing torus solana adapter"),!t.autoConnect){e.next=15;break}return this.rehydrated=!0,e.next=15,this.connect();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),eC.cM.error("Failed to connect with cached torus solana provider",e.t0),this.emit(eC.n2.ERRORED,e.t0);case 21:case"end":return e.stop()}},e,this,[[9,17]])})),function(e){return r.apply(this,arguments)})},{key:"connect",value:(h=(0,n.Z)(f().mark(function e(){var t,r,n,i,o,s,l,d;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,a.Z)((0,c.Z)(m.prototype),"checkConnectionRequirements",this).call(this),this.torusInstance){e.next=3;break}throw eC.Ty.notReady("Torus wallet is not initialized");case 3:if(this.solanaProvider){e.next=5;break}throw eC.Ty.notReady("Torus wallet is not initialized");case 5:return this.status=eC.MP.CONNECTING,this.emit(eC.n2.CONNECTING,{adapter:eC.rW.TORUS_SOLANA}),e.prev=7,e.next=10,this.torusInstance.login(this.loginSettings);case 10:return e.prev=10,(t=this.torusInstance.provider).sendTransaction=this.torusInstance.sendTransaction.bind(this.torusInstance),t.signAllTransactions=this.torusInstance.signAllTransactions.bind(this.torusInstance),t.signMessage=this.torusInstance.signMessage.bind(this.torusInstance),t.signTransaction=this.torusInstance.signTransaction.bind(this.torusInstance),e.next=18,this.solanaProvider.setupProvider(t);case 18:case 27:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(10),!(e.t0 instanceof eC.up&&5010===e.t0.code)){e.next=29;break}return n=(r=this.chainConfig).chainId,i=r.blockExplorer,o=r.displayName,s=r.rpcTarget,l=r.ticker,d={chainId:n,rpcTarget:s,blockExplorerUrl:i,displayName:o,tickerName:r.tickerName,ticker:l,logo:""},e.next=27,this.torusInstance.setProvider(d);case 29:throw e.t0;case 30:return this.status=eC.MP.CONNECTED,this.torusInstance.showTorusButton(),this.emit(eC.MP.CONNECTED,{adapter:eC.rW.TORUS_SOLANA,reconnected:this.rehydrated}),e.abrupt("return",this.provider);case 36:throw e.prev=36,e.t1=e.catch(7),this.status=eC.MP.READY,this.rehydrated=!1,this.emit(eC.n2.ERRORED,e.t1),eC.RM.connectionError("Failed to login with torus solana wallet");case 42:case"end":return e.stop()}},e,this,[[7,36],[10,20]])})),function(){return h.apply(this,arguments)})},{key:"disconnect",value:(p=(0,n.Z)(f().mark(function e(){var t,r=arguments;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{cleanup:!1},this.torusInstance){e.next=3;break}throw eC.Ty.notReady("Torus wallet is not initialized");case 3:return e.next=5,(0,a.Z)((0,c.Z)(m.prototype),"disconnect",this).call(this);case 5:return e.next=7,this.torusInstance.logout();case 7:t.cleanup?(this.status=eC.MP.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=eC.MP.READY,this.emit(eC.n2.DISCONNECTED);case 9:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getUserInfo",value:(g=(0,n.Z)(f().mark(function e(){var t;return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.status!==eC.MP.CONNECTED)){e.next=2;break}throw eC.RM.notConnectedError("Not connected with wallet");case 2:if(this.torusInstance){e.next=4;break}throw eC.Ty.notReady("Torus wallet is not initialized");case 4:return e.next=6,this.torusInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return g.apply(this,arguments)})},{key:"setAdapterSettings",value:function(e){this.status!==eC.MP.READY&&(null!=e&&e.sessionTime&&(this.sessionTime=e.sessionTime),null!=e&&e.clientId&&(this.clientId=e.clientId))}}]),m}(eI.v)},64063:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var n,i,o,s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},24970:function(e){"use strict";let t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform,e.exports=t}}]);